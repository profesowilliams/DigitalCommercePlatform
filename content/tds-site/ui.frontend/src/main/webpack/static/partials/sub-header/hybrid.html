<section
	class="container responsivegrid aem-GridColumn--default--none aem-GridColumn aem-GridColumn--default--12 aem-GridColumn--offset--default--0"
>
<div id="container-1a4cc01ff2" class="cmp-container">
  <div class="aem-Grid aem-Grid--12 aem-Grid--default--12">
    <div class="tabs" >
      <div data-cmp-is="tabs" id="tabs-d734aa9c61" class="cmp-tabs cmp-sub-header" data-cmp-data-layer="{&quot;tabs-d734aa9c61&quot;:{&quot;shownItems&quot;:[&quot;tabs-d734aa9c61-item-236e9c3f08&quot;],&quot;@type&quot;:&quot;core-components-examples/components/tabs&quot;,&quot;repo:modifyDate&quot;:&quot;2018-12-07T12:12:10Z&quot;}}" data-placeholder-text="false">
        <div class="">
          <div
            data-component="Subheader"
            data-cmp-type="react"
            class="cmp-sub-header--sub-nav cmp-sub-header__wrapper"
            data-config='{ "minified": true, "accountnumberLabel": "custom label",
              "menuItems":[{
              "title":"My Dashboard",
              "link" : "",
              "active": true
              },
              {"title":"Configuration",
              "link" : "",
              "active": false
              },
              {"title":"Deals",
              "link" : "",
              "active": false
              },
              {"title":"Tools",
              "link" : "",
              "active": false
              },
              {"title":"My Dashboard",
              "link" : "",
              "active": false
              }],
            "vendorConnectionsModal":{
              "uiServiceEndPoint":"http://localhost:3000/ui-account/v1",
              "title":"Vendor Connections",
              "buttonLabel":"Connect All",
              "buttonIcon":"fas fa-angle-double-up",
              "content": "Manage your vendor connections below",
              "connectedLabel": "Connected",
              "disconnectedLabel" : "Disconnected",
              "vendors":[{
              "key" : "Cisco",
              "value": "https://www.exanet.pl/wp-content/uploads/2020/04/cisco_exanet_logotype_blue-730x417.jpg",
              "logInUrl":"https://cloudsso.cisco.com/as/authorization.oauth2?response_type=code&client_id=mjxxm7tfx422u6gf4rausym9&state=&redirect_uri=https%3a%2f%2fdit.dc.tdebusiness.cloud%2fcontent%2ftechdata%2fus%2fvendorlogin.html"}]
              }}'
          ></div>
        </div>
        <div id="tabs-d734aa9c61-item-236e9c3f08" role="tabpanel" aria-labelledby="tabs-d734aa9c61-item-236e9c3f08" tabindex="0" class="cmp-tabs__tabpanel cmp-tabs__tabpanel--active" data-cmp-hook-tabs="tabpanel" data-cmp-data-layer="{&quot;tabs-d734aa9c61-item-236e9c3f08&quot;:{&quot;@type&quot;:&quot;core-components-examples/components/tabs/item&quot;,&quot;dc:title&quot;:&quot;Tab 1&quot;}}">
          <div class="responsivegrid">
            <div class="aem-Grid aem-Grid--12 aem-Grid--default--12 ">
              <div class="text aem-GridColumn aem-GridColumn--default--12">
                <div data-cmp-data-layer="{&quot;text-31e9b022fd&quot;:{&quot;@type&quot;:&quot;core/wcm/components/text/v2/text&quot;,&quot;repo:modifyDate&quot;:&quot;2019-01-22T11:45:56Z&quot;,&quot;xdm:text&quot;:&quot;<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Eu mi bibendum neque egestas congue quisque egestas. Varius morbi enim nunc faucibus a pellentesque. Scelerisque eleifend donec pretium vulputate sapien nec sagittis.</p>\n&quot;}}" id="text-31e9b022fd" class="cmp-text">
                  <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Eu mi bibendum neque egestas congue quisque egestas. Varius morbi enim nunc faucibus a pellentesque. Scelerisque eleifend donec pretium vulputate sapien nec sagittis.</p>
                </div>
              </div>
              <div class="image aem-GridColumn aem-GridColumn--default--12">
                <div data-cmp-lazythreshold="0" data-cmp-src="/content/core-components-examples/library/container/tabs/_jcr_content/root/responsivegrid/demo_1865210207/component/tabs/item_1/image.coreimg{.width}.jpeg/1550672497829/lava-into-ocean.jpeg" data-asset="/content/dam/core-components-examples/library/sample-assets/lava-into-ocean.jpg" data-asset-id="0f54e1b5-535b-45f7-a46b-35abb19dd6bc" data-title="Lava flowing into the ocean" id="image-c457ccf5b1" data-cmp-data-layer="{&quot;image-c457ccf5b1&quot;:{&quot;@type&quot;:&quot;core-components-examples/components/image&quot;,&quot;repo:modifyDate&quot;:&quot;2018-12-07T12:13:13Z&quot;,&quot;dc:title&quot;:&quot;Lava flowing into the ocean&quot;,&quot;image&quot;:{&quot;repo:id&quot;:&quot;0f54e1b5-535b-45f7-a46b-35abb19dd6bc&quot;,&quot;repo:modifyDate&quot;:&quot;2019-02-20T14:21:37Z&quot;,&quot;@type&quot;:&quot;image/jpeg&quot;,&quot;repo:path&quot;:&quot;/content/dam/core-components-examples/library/sample-assets/lava-into-ocean.jpg&quot;,&quot;xdm:tags&quot;:[],&quot;xdm:smartTags&quot;:{}}}}" class="cmp-image" itemscope="" itemtype="http://schema.org/ImageObject">
                  <img src="/content/core-components-examples/library/container/tabs/_jcr_content/root/responsivegrid/demo_1865210207/component/tabs/item_1/image.coreimg.jpeg/1550672497829/lava-into-ocean.jpeg" class="cmp-image__image" itemprop="contentUrl" data-cmp-hook-image="image" alt="Lava flowing into the ocean" title="Lava flowing into the ocean">
                  <meta itemprop="caption" content="Lava flowing into the ocean">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="tabs-d734aa9c61-item-1948bed6ab" role="tabpanel" aria-labelledby="tabs-d734aa9c61-item-1948bed6ab" tabindex="0" class="cmp-tabs__tabpanel" data-cmp-hook-tabs="tabpanel" data-cmp-data-layer="{&quot;tabs-d734aa9c61-item-1948bed6ab&quot;:{&quot;@type&quot;:&quot;core-components-examples/components/tabs/item&quot;,&quot;dc:title&quot;:&quot;Tab 2&quot;}}" aria-hidden="true">
          <div class="responsivegrid">
            <div class="aem-Grid aem-Grid--12 aem-Grid--default--12 ">
              <div class="text aem-GridColumn aem-GridColumn--default--12">
                <div data-cmp-data-layer="{&quot;text-cc6b3466b5&quot;:{&quot;@type&quot;:&quot;core/wcm/components/text/v2/text&quot;,&quot;repo:modifyDate&quot;:&quot;2019-01-22T11:46:55Z&quot;,&quot;xdm:text&quot;:&quot;<p>Hac habitasse platea dictumst quisque sagittis purus. At risus viverra adipiscing at in tellus integer. Sit amet consectetur adipiscing elit duis tristique sollicitudin. Leo vel orci porta non pulvinar neque laoreet suspendisse. Volutpat diam ut venenatis tellus in metus vulputate eu.</p>\n&quot;}}" id="text-cc6b3466b5" class="cmp-text">
                  <p>Hac habitasse platea dictumst quisque sagittis purus. At risus viverra adipiscing at in tellus integer. Sit amet consectetur adipiscing elit duis tristique sollicitudin. Leo vel orci porta non pulvinar neque laoreet suspendisse. Volutpat diam ut venenatis tellus in metus vulputate eu.</p>
                </div>
              </div>
              <div class="image aem-GridColumn aem-GridColumn--default--12">
                <div data-cmp-lazythreshold="0" data-cmp-src="/content/core-components-examples/library/container/tabs/_jcr_content/root/responsivegrid/demo_1865210207/component/tabs/item_2/image.coreimg{.width}.jpeg/1550672497135/snowy-mountain-glacier.jpeg" data-asset="/content/dam/core-components-examples/library/sample-assets/snowy-mountain-glacier.jpg" data-asset-id="45c6ee92-90e1-4af2-af69-b6dcbc7daeb7" data-title="Snowy mountain glacier" id="image-5bf30ef570" data-cmp-data-layer="{&quot;image-5bf30ef570&quot;:{&quot;@type&quot;:&quot;core-components-examples/components/image&quot;,&quot;repo:modifyDate&quot;:&quot;2018-12-07T12:14:44Z&quot;,&quot;dc:title&quot;:&quot;Snowy mountain glacier&quot;,&quot;image&quot;:{&quot;repo:id&quot;:&quot;45c6ee92-90e1-4af2-af69-b6dcbc7daeb7&quot;,&quot;repo:modifyDate&quot;:&quot;2019-02-20T14:21:37Z&quot;,&quot;@type&quot;:&quot;image/jpeg&quot;,&quot;repo:path&quot;:&quot;/content/dam/core-components-examples/library/sample-assets/snowy-mountain-glacier.jpg&quot;,&quot;xdm:tags&quot;:[],&quot;xdm:smartTags&quot;:{}}}}" class="cmp-image" itemscope="" itemtype="http://schema.org/ImageObject">
                  <img src="/content/core-components-examples/library/container/tabs/_jcr_content/root/responsivegrid/demo_1865210207/component/tabs/item_2/image.coreimg.jpeg/1550672497135/snowy-mountain-glacier.jpeg" class="cmp-image__image" itemprop="contentUrl" data-cmp-hook-image="image" alt="Snowy mountain glacier" title="Snowy mountain glacier">
                  <meta itemprop="caption" content="Snowy mountain glacier">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="tabs-d734aa9c61-item-705e21779e" role="tabpanel" aria-labelledby="tabs-d734aa9c61-item-705e21779e" tabindex="0" class="cmp-tabs__tabpanel" data-cmp-hook-tabs="tabpanel" data-cmp-data-layer="{&quot;tabs-d734aa9c61-item-705e21779e&quot;:{&quot;@type&quot;:&quot;core-components-examples/components/tabs/item&quot;,&quot;dc:title&quot;:&quot;Tab 3&quot;}}" aria-hidden="true">
          <div class="responsivegrid">
            <div class="aem-Grid aem-Grid--12 aem-Grid--default--12 ">
              <div class="text aem-GridColumn aem-GridColumn--default--12">
                <div data-cmp-data-layer="{&quot;text-cb937612dc&quot;:{&quot;@type&quot;:&quot;core/wcm/components/text/v2/text&quot;,&quot;repo:modifyDate&quot;:&quot;2019-01-22T11:47:15Z&quot;,&quot;xdm:text&quot;:&quot;<p>Libero id faucibus nisl tincidunt eget nullam non nisi. Hac habitasse platea dictumst vestibulum. Viverra orci sagittis eu volutpat odio facilisis mauris. Velit aliquet sagittis id consectetur purus ut. Orci phasellus egestas tellus rutrum tellus pellentesque eu tincidunt.</p>\n&quot;}}" id="text-cb937612dc" class="cmp-text">
                  <p>Libero id faucibus nisl tincidunt eget nullam non nisi. Hac habitasse platea dictumst vestibulum. Viverra orci sagittis eu volutpat odio facilisis mauris. Velit aliquet sagittis id consectetur purus ut. Orci phasellus egestas tellus rutrum tellus pellentesque eu tincidunt.</p>
                </div>
              </div>
              <div class="image aem-GridColumn aem-GridColumn--default--12">
                <div data-cmp-lazythreshold="0" data-cmp-src="/content/core-components-examples/library/container/tabs/_jcr_content/root/responsivegrid/demo_1865210207/component/tabs/item_1544184727261/image.coreimg{.width}.jpeg/1550673081151/mountain-range.jpeg" data-asset="/content/dam/core-components-examples/library/sample-assets/mountain-range.jpg" data-asset-id="c0a39183-23f4-48f0-8db7-bb41ba2b0122" data-title="Aerial photo of mountain range" id="image-3722ca35c2" data-cmp-data-layer="{&quot;image-3722ca35c2&quot;:{&quot;@type&quot;:&quot;core-components-examples/components/image&quot;,&quot;repo:modifyDate&quot;:&quot;2018-12-07T12:14:50Z&quot;,&quot;dc:title&quot;:&quot;Aerial photo of mountain range&quot;,&quot;image&quot;:{&quot;repo:id&quot;:&quot;c0a39183-23f4-48f0-8db7-bb41ba2b0122&quot;,&quot;repo:modifyDate&quot;:&quot;2019-02-20T14:31:21Z&quot;,&quot;@type&quot;:&quot;image/jpeg&quot;,&quot;repo:path&quot;:&quot;/content/dam/core-components-examples/library/sample-assets/mountain-range.jpg&quot;,&quot;xdm:tags&quot;:[],&quot;xdm:smartTags&quot;:{}}}}" class="cmp-image" itemscope="" itemtype="http://schema.org/ImageObject">
                  <img src="/content/core-components-examples/library/container/tabs/_jcr_content/root/responsivegrid/demo_1865210207/component/tabs/item_1544184727261/image.coreimg.jpeg/1550673081151/mountain-range.jpeg" class="cmp-image__image" itemprop="contentUrl" data-cmp-hook-image="image" alt="Aerial photo of mountain range" title="Aerial photo of mountain range">
                  <meta itemprop="caption" content="Aerial photo of mountain range">
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="tabs-d734aa9c61-item-706e21779e" role="tabpanel" aria-labelledby="tabs-d734aa9c61-item-706e21779e" tabindex="0" class="cmp-tabs__tabpanel" data-cmp-hook-tabs="tabpanel" data-cmp-data-layer="{&quot;tabs-d734aa9c61-item-705e21779e&quot;:{&quot;@type&quot;:&quot;core-components-examples/components/tabs/item&quot;,&quot;dc:title&quot;:&quot;Tab 3&quot;}}" aria-hidden="true">
          <div class="responsivegrid">
            <div class="aem-Grid aem-Grid--12 aem-Grid--default--12 ">
              <div class="menucategorieslist aem-GridColumn aem-GridColumn--default--12">
                <ul class="cmp-tools">
                  <li class="cmp-tools__category-name">Pre Sales<ul>
                      <li><a href="#">PartSmart Catalog</a></li>
                      <li><a href="#">Software License Selector</a></li>
                      <li><a href="#">Cloud Store</a></li>
                      <li><a href="#">Warranty Attach Plus</a></li>
                    </ul>
                  </li>
                  <li class="cmp-tools__category-name">Post Sales<ul>
                      <li><a href="#">After Sales Management (ASM)</a></li>
                      <li><a href="#">License Tracker</a></li>
                      <li><a href="#">Activate Here</a></li>
                      <li><a href="#">Mobile Solutions</a></li>
                    </ul>
                  </li>
                  <li class="cmp-tools__category-name">Finance<ul>
                      <li><a href="#">TD Direct Pay</a></li>
                      <li><a href="#">RMI (TaaS)</a></li>
                      <li><a href="#">Commercial Invoices</a></li>
                      <li><a href="#">Credit Information/Search</a></li>
                    </ul>
                  </li>
                  <li class="cmp-tools__category-name">Training<ul>
                      <li><a href="#">LevelUp</a></li>
                    </ul>
                  </li>
                  <li class="cmp-tools__category-name">Configurations<ul>
                      <li><a href="#">Cisco CCW</a></li>
                      <li><a href="#">Cisco Simple IT</a></li>
                      <li><a href="#">Lenovo</a></li>
                      <li><a href="#">Dell</a></li>
                      <li><a href="#">HP iQuote</a></li>
                      <li><a href="#">HP Inc Market Pro</a></li>
                      <li><a href="#">Level Up</a></li>
                      <li><a href="#">R20</a></li>
                    </ul>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</section>

<!-- Below is only for testing in local
It will not go into final build. -->
<script>
    // container utils ends

    /*******************************************************************************
 * Copyright 2018 Adobe
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
    /* global
        CQ
     */
    (function () {
        "use strict";

        var dataLayerEnabled;
        var dataLayer;

        var NS = "cmp";
        var IS = "tabs";

        var keyCodes = {
            END: 35,
            HOME: 36,
            ARROW_LEFT: 37,
            ARROW_UP: 38,
            ARROW_RIGHT: 39,
            ARROW_DOWN: 40
        };

        var selectors = {
            self: "[data-" + NS + '-is="' + IS + '"]',
            active: {
                tab: "cmp-tabs__tab--active",
                tabpanel: "cmp-tabs__tabpanel--active"
            }
        };

        /**
         * Tabs Configuration
         *
         * @typedef {Object} TabsConfig Represents a Tabs configuration
         * @property {HTMLElement} element The HTMLElement representing the Tabs
         * @property {Object} options The Tabs options
         */

        /**
         * Tabs
         *
         * @class Tabs
         * @classdesc An interactive Tabs component for navigating a list of tabs
         * @param {TabsConfig} config The Tabs configuration
         */
        function Tabs(config) {
            var that = this;

            if (config && config.element) {
                init(config);
            }

            /**
             * Initializes the Tabs
             *
             * @private
             * @param {TabsConfig} config The Tabs configuration
             */
            function init(config) {
                that._config = config;

                // prevents multiple initialization
                config.element.removeAttribute("data-" + NS + "-is");

                cacheElements(config.element);
                that._active = getActiveIndex(that._elements["tab"]);

                if (that._elements.tabpanel) {
                    refreshActive();
                    bindEvents();
                }

                // Show the tab based on deep-link-id if it matches with any existing tab item id
                var deepLinkItemIdx = CQ.CoreComponents.container.utils.getDeepLinkItemIdx(that, "tab");
                if (deepLinkItemIdx && deepLinkItemIdx !== -1) {
                    var deepLinkItem = that._elements["tab"][deepLinkItemIdx];
                    if (deepLinkItem && that._elements["tab"][that._active].id !== deepLinkItem.id) {
                        navigateAndFocusTab(deepLinkItemIdx);
                    }
                }

                if (window.Granite && window.Granite.author && window.Granite.author.MessageChannel) {
                    /*
                     * Editor message handling:
                     * - subscribe to "cmp.panelcontainer" message requests sent by the editor frame
                     * - check that the message data panel container type is correct and that the id (path) matches this specific Tabs component
                     * - if so, route the "navigate" operation to enact a navigation of the Tabs based on index data
                     */
                    CQ.CoreComponents.MESSAGE_CHANNEL = CQ.CoreComponents.MESSAGE_CHANNEL || new window.Granite.author.MessageChannel("cqauthor", window);
                    CQ.CoreComponents.MESSAGE_CHANNEL.subscribeRequestMessage("cmp.panelcontainer", function (message) {
                        if (message.data && message.data.type === "cmp-tabs" && message.data.id === that._elements.self.dataset["cmpPanelcontainerId"]) {
                            if (message.data.operation === "navigate") {
                                navigate(message.data.index);
                            }
                        }
                    });
                }
            }

            /**
             * Returns the index of the active tab, if no tab is active returns 0
             *
             * @param {Array} tabs Tab elements
             * @returns {Number} Index of the active tab, 0 if none is active
             */
            function getActiveIndex(tabs) {
                if (tabs) {
                    for (var i = 0; i < tabs.length; i++) {
                        if (tabs[i].classList.contains(selectors.active.tab)) {
                            return i;
                        }
                    }
                }
                return 0;
            }

            /**
             * Caches the Tabs elements as defined via the {@code data-tabs-hook="ELEMENT_NAME"} markup API
             *
             * @private
             * @param {HTMLElement} wrapper The Tabs wrapper element
             */
            function cacheElements(wrapper) {
                that._elements = {};
                that._elements.self = wrapper;
                var hooks = that._elements.self.querySelectorAll("[data-" + NS + "-hook-" + IS + "]");

                for (var i = 0; i < hooks.length; i++) {
                    var hook = hooks[i];
                    if (hook.closest("." + NS + "-" + IS) === that._elements.self) { // only process own tab elements
                        var capitalized = IS;
                        capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
                        var key = hook.dataset[NS + "Hook" + capitalized];
                        if (that._elements[key]) {
                            if (!Array.isArray(that._elements[key])) {
                                var tmp = that._elements[key];
                                that._elements[key] = [tmp];
                            }
                            that._elements[key].push(hook);
                        } else {
                            that._elements[key] = hook;
                        }
                    }
                }
            }

            /**
             * Binds Tabs event handling
             *
             * @private
             */
            function bindEvents() {
                var tabs = that._elements["tab"];
                if (tabs) {
                    for (var i = 0; i < tabs.length; i++) {
                        (function (index) {
                            tabs[i].addEventListener("click", function (event) {
                                navigateAndFocusTab(index);
                            });
                            tabs[i].addEventListener("keydown", function (event) {
                                onKeyDown(event);
                            });
                        })(i);
                    }
                }
            }

            /**
             * Handles tab keydown events
             *
             * @private
             * @param {Object} event The keydown event
             */
            function onKeyDown(event) {
                var index = that._active;
                var lastIndex = that._elements["tab"].length - 1;

                switch (event.keyCode) {
                    case keyCodes.ARROW_LEFT:
                    case keyCodes.ARROW_UP:
                        event.preventDefault();
                        if (index > 0) {
                            navigateAndFocusTab(index - 1);
                        }
                        break;
                    case keyCodes.ARROW_RIGHT:
                    case keyCodes.ARROW_DOWN:
                        event.preventDefault();
                        if (index < lastIndex) {
                            navigateAndFocusTab(index + 1);
                        }
                        break;
                    case keyCodes.HOME:
                        event.preventDefault();
                        navigateAndFocusTab(0);
                        break;
                    case keyCodes.END:
                        event.preventDefault();
                        navigateAndFocusTab(lastIndex);
                        break;
                    default:
                        return;
                }
            }

            /**
             * Refreshes the tab markup based on the current {@code Tabs#_active} index
             *
             * @private
             */
            function refreshActive() {
                var tabpanels = that._elements["tabpanel"];
                var tabs = that._elements["tab"];

                if (tabpanels) {
                    if (Array.isArray(tabpanels)) {
                        for (var i = 0; i < tabpanels.length; i++) {
                            if (i === parseInt(that._active)) {
                                tabpanels[i].classList.add(selectors.active.tabpanel);
                                tabpanels[i].removeAttribute("aria-hidden");
                                tabs[i].classList.add(selectors.active.tab);
                                tabs[i].setAttribute("aria-selected", true);
                                tabs[i].setAttribute("tabindex", "0");
                            } else {
                                tabpanels[i].classList.remove(selectors.active.tabpanel);
                                tabpanels[i].setAttribute("aria-hidden", true);
                                tabs[i].classList.remove(selectors.active.tab);
                                tabs[i].setAttribute("aria-selected", false);
                                tabs[i].setAttribute("tabindex", "-1");
                            }
                        }
                    } else {
                        // only one tab
                        tabpanels.classList.add(selectors.active.tabpanel);
                        tabs.classList.add(selectors.active.tab);
                    }
                }
            }

            /**
             * Focuses the element and prevents scrolling the element into view
             *
             * @param {HTMLElement} element Element to focus
             */
            function focusWithoutScroll(element) {
                var x = window.scrollX || window.pageXOffset;
                var y = window.scrollY || window.pageYOffset;
                element.focus();
                window.scrollTo(x, y);
            }

            /**
             * Navigates to the tab at the provided index
             *
             * @private
             * @param {Number} index The index of the tab to navigate to
             */
            function navigate(index) {
                that._active = index;
                refreshActive();
            }

            /**
             * Navigates to the item at the provided index and ensures the active tab gains focus
             *
             * @private
             * @param {Number} index The index of the item to navigate to
             */
            function navigateAndFocusTab(index) {
                var exActive = that._active;
                navigate(index);
                focusWithoutScroll(that._elements["tab"][index]);

                if (dataLayerEnabled) {

                    var activeItem = getDataLayerId(that._elements.tabpanel[index]);
                    var exActiveItem = getDataLayerId(that._elements.tabpanel[exActive]);

                    dataLayer.push({
                        event: "cmp:show",
                        eventInfo: {
                            path: "component." + activeItem
                        }
                    });

                    dataLayer.push({
                        event: "cmp:hide",
                        eventInfo: {
                            path: "component." + exActiveItem
                        }
                    });

                    var tabsId = that._elements.self.id;
                    var uploadPayload = { component: {} };
                    uploadPayload.component[tabsId] = { shownItems: [activeItem] };

                    var removePayload = { component: {} };
                    removePayload.component[tabsId] = { shownItems: undefined };

                    dataLayer.push(removePayload);
                    dataLayer.push(uploadPayload);
                }
            }
        }

        /**
         * Scrolls the browser when the URI fragment is changed to the item of the container Tab component that corresponds to the deep link in the URI fragment,
           and displays its content.
         * This method fixes the issue existent with Chrome and related browsers, which are just scrolling to the item without displaying its content.
         */
        function onHashChange() {
            if (location.hash && location.hash !== "#") {
                var anchorLocation = decodeURIComponent(location.hash);
                var anchorElement = document.querySelector(anchorLocation);
                if (anchorElement && anchorElement.classList.contains("cmp-tabs__tab") && !anchorElement.classList.contains("cmp-tabs__tab--active")) {
                    anchorElement.click();
                }
            }
        }

        /**
         * Reads options data from the Tabs wrapper element, defined via {@code data-cmp-*} data attributes
         *
         * @private
         * @param {HTMLElement} element The Tabs element to read options data from
         * @returns {Object} The options read from the component data attributes
         */
        function readData(element) {
            var data = element.dataset;
            var options = [];
            var capitalized = IS;
            capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
            var reserved = ["is", "hook" + capitalized];

            for (var key in data) {
                if (data.hasOwnProperty(key)) {
                    var value = data[key];

                    if (key.indexOf(NS) === 0) {
                        key = key.slice(NS.length);
                        key = key.charAt(0).toLowerCase() + key.substring(1);

                        if (reserved.indexOf(key) === -1) {
                            options[key] = value;
                        }
                    }
                }
            }

            return options;
        }

        /**
         * Parses the dataLayer string and returns the ID
         *
         * @private
         * @param {HTMLElement} item the accordion item
         * @returns {String} dataLayerId or undefined
         */
        function getDataLayerId(item) {
            if (item && item.dataset.cmpDataLayer) {
                return Object.keys(JSON.parse(item.dataset.cmpDataLayer))[0];
            } else {
                return item.id;
            }
        }

        /**
         * Document ready handler and DOM mutation observers. Initializes Tabs components as necessary.
         *
         * @private
         */
        function onDocumentReady() {
            dataLayerEnabled = document.body.hasAttribute("data-cmp-data-layer-enabled");
            dataLayer = (dataLayerEnabled) ? window.adobeDataLayer = window.adobeDataLayer || [] : undefined;

            var elements = document.querySelectorAll(selectors.self);
            for (var i = 0; i < elements.length; i++) {
                new Tabs({ element: elements[i], options: readData(elements[i]) });
            }

            var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
            var body = document.querySelector("body");
            var observer = new MutationObserver(function (mutations) {
                mutations.forEach(function (mutation) {
                    // needed for IE
                    var nodesArray = [].slice.call(mutation.addedNodes);
                    if (nodesArray.length > 0) {
                        nodesArray.forEach(function (addedNode) {
                            if (addedNode.querySelectorAll) {
                                var elementsArray = [].slice.call(addedNode.querySelectorAll(selectors.self));
                                elementsArray.forEach(function (element) {
                                    new Tabs({ element: element, options: readData(element) });
                                });
                            }
                        });
                    }
                });
            });

            observer.observe(body, {
                subtree: true,
                childList: true,
                characterData: true
            });
        }

        if (document.readyState !== "loading") {
            onDocumentReady();
        } else {
            document.addEventListener("DOMContentLoaded", onDocumentReady);
        }

        window.addEventListener("load", window.CQ.CoreComponents.container.utils.scrollToAnchor, false);
        window.addEventListener("hashchange", onHashChange, false);

    }());
</script>
