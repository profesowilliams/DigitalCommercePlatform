<sly data-sly-test="${(wcmmode.edit || wcmmode.design)}">
  <div class="cq-placeholder" data-emptyText="${component.title}"></div>
</sly>
<sly data-sly-use.model="com.tdscore.core.models.LanguageDropDownModel">
  <button class="cmp-dropbtn">
    <sly data-sly-test="${properties.showIcon}">
      <span class="${properties.showLabel == 'true' ? '' : 'language-hiddenLabel'}"></span>
    </sly>
    <span class="${properties.showLabel == 'true' ? '' : 'language-hiddenLabel'}">${model.countryRootPageTitle}</span>
  </button>
  <div class="regionSelectDropdown cmp-dropdown-content">
    <form method="POST" action="/content/core-components-examples/library/form/button.html"
          enctype="multipart/form-data" class="cmp-languagenavigation cmp-region-select-dropdown" id="${component.id}"
          name="${component.id}">
      <div class="options" data-sly-use.component="com.adobe.cq.wcm.core.components.models.Component"
           data-sly-use.commonsTemplates="core/wcm/components/commons/v1/templates.html"
           data-sly-use.groupTemplate="group.html"
           data-sly-call="${groupTemplate.group @ items=model.languageListItems}"
           data-sly-test.hasContent="${model.items && model.items.size > 0}"
           data-cmp-data-layer="${languageNavigation.data.json}">
        <input type="hidden" name=":formstart"
               value="/content/core-components-examples/library/form/button/jcr:content/root/responsivegrid/demo_881795653/component/container">
        <input type="hidden" name="_charset_" value="utf-8">
      </div>
      <div class="button languageselection-button">
        <button type="button" id="form-button-1117902125" class="cmp-button__region-select"
                data-target="#countriesListModal" name="button">${properties.changeLocationLabel}</button>
      </div>
      <div id="countriesListModal" class="language-modal">
        <!-- Modal content -->
        <div class="language-modal__content">
          <span class="language-modal__content__close" href="#"></span>
          <div class="language-modal__content__row">
            <sly data-sly-list.continentItems="${model.regionListItems}">
              <div class="language-modal__content__column">
                <h2 class="cmp-region-list__title">${continentItems.title}</h2>
                <div class="language-modal__content__column__separator">
                  <sly data-sly-list.countryItems="${continentItems.children}">
                    <div class="cmp-region-list__countries">
                      <div class="cmp-region-list__countries--flag">
                        <a href="${countryItems.languagePageUrl}"> ${countryItems.svgFlag @ context = 'scriptComment'} </a>
                      </div>
                      <div class="cmp-region-list__countries--name">
                        <a href="${countryItems.languagePageUrl}"> ${countryItems.title}  </a>
                        <span class="cmp-region-list__language">
                          <sly data-sly-list.LanguageItems="${countryItems.children}">
                            <a href="${LanguageItems.URL}">${LanguageItems.displayLanguage}</a>${LanguageItemsList.last
                            ? '' :
                            ' | '}
                          </sly>
                        </span>
                      </div>
                    </div>
                  </sly>
                </div>
              </div>
            </sly>
          </div>
        </div>
      </div>
    </form>
  </div>
</sly>