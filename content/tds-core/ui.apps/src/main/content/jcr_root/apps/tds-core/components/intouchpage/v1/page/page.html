<!--/*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  ~ Copyright 2016 Adobe
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/-->
<!DOCTYPE HTML>
<html data-sly-use.page="com.adobe.cq.wcm.core.components.models.Page" lang="${page.language}"
      data-sly-use.pwa="com.adobe.cq.wcm.core.components.models.PWA"
      data-sly-use.head="head.html"
      data-sly-use.footer="footer.html"
      data-sly-use.props="${'check_private_page.js'}"
      data-sly-use.redirect="redirect.html">
<head data-sly-call="${head.head @ page = page, pwa = pwa, wcmmode = wcmmode}">
</head>
<body class="${page.cssClassNames}"
      id="${page.id}"
      data-authormode="${wcmmode.edit || wcmmode.preview}"
      data-cmp-data-layer-enabled="${page.data ? true : false}"
      data-signin-httponly="${caconfig['com.tdscore.core.slingcaconfig.FeatureFlagsConfiguration'].httpOnlyEnabled}"
      data-disable-extra-reload="${caconfig['com.tdscore.core.slingcaconfig.FeatureFlagsConfiguration'].extraReloadDisabled}"
      data-disable-check-for-dcp-access="${caconfig['com.tdscore.core.slingcaconfig.FeatureFlagsConfiguration'].disableChecksForDCPAccess}"
      data-disable-entitlements-list="${caconfig['com.tdscore.core.slingcaconfig.FeatureFlagsConfiguration'].disableEntitlementsList}"
      data-intouch-header-api-url="${caconfig['com.tdscore.core.slingcaconfig.IntouchConfiguration'].headerAPIUrl}"
      data-intouch-footer-api-url="${caconfig['com.tdscore.core.slingcaconfig.IntouchConfiguration'].footerAPIUrl}"
      data-intouch-user-check-api-url="${caconfig['com.tdscore.core.slingcaconfig.IntouchConfiguration'].userCheckAPIUrl}"
      data-consumer-request-header="${caconfig['com.tdscore.core.slingcaconfig.ServiceEndPointsConfiguration'].consumerRequestHeader}">
      <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-KPQGNF');</script>
  <!-- End Google Tag Manager -->
  <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KPQGNF"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
    <div id="page-container">
        <div id="top"></div>
        <sly data-sly-test.isRedirectPage="${page.redirectTarget && (wcmmode.edit || wcmmode.preview)}"
             data-sly-call="${redirect.redirect @ redirectTarget = page.redirectTarget}"></sly>
        <sly data-sly-test="${!isRedirectPage}">
            <div id="intouch-headerhtml"></div>
            <sly data-sly-include="body.html"></sly>
            <div id="intouch-footerhtml"></div>
            <sly data-sly-call="${footer.footer @ page = page, pwa = pwa}"></sly>
        </sly>
    </div>
</body>
</html>
